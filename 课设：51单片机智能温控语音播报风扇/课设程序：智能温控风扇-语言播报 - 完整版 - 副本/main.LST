C51 COMPILER V9.52.0.0   MAIN                                                              05/22/2019 22:44:58 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: D:\keil4\C51\BIN\C51.EXE main.c BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          /*******************************************************************************
   2          *  µ—È√˚         :ø…“‘”Ô“Ù≤•±®µƒ÷«ƒ‹Œ¬øÿ∑Á…» µ—È
   3          *  π”√µƒIO       : 
   4          *  µ—È–ßπ˚       :1602œ‘ æŒ¬∂»£¨”Ô“Ùƒ£øÈ≤•±®Œ¬∂»÷µ£¨∑Á…»µµ
   5          * ◊¢“‚           £∫
   6          *******************************************************************************/
   7          
   8          #include "reg51.h"
   9          #include "lcd.h"
  10          #include "temp.h"
  11          
  12          
  13          sbit key1 = P3^5;//…Ë÷√…œœﬁº”  
  14          sbit key2 = P3^4;//…Ë÷√…œœﬁºı  
  15          sbit key3 = P3^2;//…Ë÷√œ¬œﬁº”
  16          sbit key4 = P3^3;//…Ë÷√œ¬œﬁºı
  17          sbit fun_pwm = P1^0;
  18          sbit Irstatus = P1^1;
  19          //sbit low_level = P1^2;
  20          //sbit high_level = P1^3;
  21          void LcdDisplay(int);
  22          uchar Send_buf[10] = {0};
  23          code char NUM[] = "0123456789";
  24          uchar string[] = "H:36 L:10";  //ƒ¨»œ≥ı ºªØµƒ…œœﬁœ¬œﬁ÷µ
  25          int wendu;
  26          int H = 36;
  27          int Hmax = 99;
  28          int L = 10;
  29          int Lmin = 0;
  30          uchar high_pwm;
  31          uchar pwm_t=0;
  32          void timer0_init();
  33          void Serial_init();
  34          void keyross();
  35          void Uart_PutByte(uchar ch);
  36          void SendCmd(uchar len);
  37          void DoSum(uchar *Str, uchar len);
  38          void Uart_SendCMD(uchar CMD ,uchar feedback , uint dat);
  39          /*******************************************************************************
  40          * ∫Ø ˝√˚         : main
  41          * ∫Ø ˝π¶ƒ‹       : ÷˜∫Ø ˝
  42          *  ‰»Î           : Œﬁ
  43          *  ‰≥ˆ           : Œﬁ
  44          *******************************************************************************/
  45          
  46          void main()
  47          {
  48   1        uchar i;
  49   1        int temp;
  50   1        LcdInit();       //≥ı ºªØLCD1602
  51   1        LcdWriteCom(0x88);  //–¥µÿ÷∑ 80±Ì æ≥ı ºµÿ÷∑µ⁄8∏ˆŒª÷√
  52   1        LcdWriteData('C'); 
  53   1        LcdWriteCom(0x40+0x80);
  54   1        for(i=0;i<9;i++)
  55   1        {
C51 COMPILER V9.52.0.0   MAIN                                                              05/22/2019 22:44:58 PAGE 2   

  56   2          LcdWriteData(string[i]);  
  57   2        } 
  58   1        Uart_SendCMD(0x0f , 0 , 0x0101) ;//≤•∑≈µ⁄“ª ◊,”√¿¥≤•∑≈Œ¬∂»÷µº∞…Ë∂®µƒ…œœ¬÷µ
  59   1        while(1)
  60   1        { 
  61   2          //low_level = 0;
  62   2          //high_level = 1;
  63   2          wendu = Ds18b20ReadTemp();
  64   2          LcdDisplay(wendu);
  65   2          Lcd1602_Delay1ms(30);
  66   2          keyross();
  67   2          Serial_init();
  68   2          timer0_init();
  69   2          temp=wendu*0.0625; //»•ø¥165––¥˙¬Îµƒ◊¢ Õ
  70   2          if(temp >= H && Irstatus == 1) //Œ¬∂»÷µ≥¨π˝…œœﬁ£¨∑Á…»»´ÀŸ‘À––3µ≤
  71   2          {
  72   3            LcdWriteCom(0x8b);
  73   3            LcdWriteData(NUM[3]);
  74   3            TR0=1;
  75   3            high_pwm = 255;
  76   3            Uart_SendCMD(0x0f , 0 , 0x0102) ;//≤•∑≈µ⁄∂˛ ◊,”√¿¥≤•∑≈∑Á…»»´ÀŸ‘À––
  77   3          }
  78   2          else if(temp >= ((H-L)/2 + L) && temp <= H && temp >= L && Irstatus == 1)//Œ¬∂»÷µ≥¨π˝“ª∞Î√ª”–≥¨π˝…œœﬁ÷µ£
             -¨∑Á…»‘À––2µ≤
  79   2          {
  80   3            LcdWriteCom(0x8b);
  81   3            LcdWriteData(NUM[2]);
  82   3            TR0=1;
  83   3            high_pwm = 150;
  84   3            Uart_SendCMD(0x0f , 0 , 0x0103) ;//≤•∑≈µ⁄»˝ ◊,”√¿¥≤•∑≈∑Á…»µ⁄∂˛µµ
  85   3          } 
  86   2          else if(temp >= L && temp <= ((H-L)/2 + L) && Irstatus == 1)//Œ¬∂»÷µ≥¨π˝œ¬œﬁ÷µ√ª”–≥¨π˝“ª∞Î÷µ£¨∑Á…»‘À––1µ
             -≤
  87   2          {
  88   3            LcdWriteCom(0x8b);
  89   3            LcdWriteData(NUM[1]);
  90   3            TR0=1;
  91   3            high_pwm = 75;
  92   3            Uart_SendCMD(0x0f , 0 , 0x0104) ;//≤•∑≈µ⁄Àƒ ◊,”√¿¥≤•∑≈∑Á…»µ⁄“ªµµ
  93   3          } 
  94   2          
  95   2          else if(temp < L || Irstatus == 0)//Œ¬∂»÷µ√ª≥¨π˝œ¬œﬁ÷µ£¨∑Á…»≤ª‘À––
  96   2          {
  97   3            LcdWriteCom(0x8b);
  98   3            LcdWriteData(NUM[0]);
  99   3            TR0=0;
 100   3            high_pwm = 255;
 101   3            fun_pwm = 0;
 102   3            Uart_SendCMD(0x0f , 0 , 0x0105) ;//≤•∑≈µ⁄ŒÂ ◊,”√¿¥≤•∑≈∑Á…»≤ª‘À––
 103   3          } 
 104   2          
 105   2        }
 106   1      }
 107          /*******************************************************************************
 108          * ∫Ø ˝√˚         : timer0_init
 109          * ∫Ø ˝π¶ƒ‹       : T0≥ı ºªØ
 110          *  ‰»Î           : Œﬁ
 111          *  ‰≥ˆ           : Œﬁ
 112          *******************************************************************************/
 113          void timer0_init()
 114          {
 115   1        TMOD |= 0x01;//π§◊˜∑Ω Ω1£¨16Œª
C51 COMPILER V9.52.0.0   MAIN                                                              05/22/2019 22:44:58 PAGE 3   

 116   1        TH0=0xF4;
 117   1        TL0=0xDA;
 118   1        TR0=1;
 119   1        ET0=1;
 120   1        EA=1;
 121   1      }
 122          /*******************************************************************************
 123          * ∫Ø ˝√˚         :UsartInit()
 124          * ∫Ø ˝π¶ƒ‹       :…Ë÷√¥Æø⁄
 125          *  ‰»Î           : Œﬁ
 126          *  ‰≥ˆ           : Œﬁ
 127          *******************************************************************************/
 128          void UsartInit()
 129          {
 130   1        SCON=0X50;      //…Ë÷√Œ™π§◊˜∑Ω Ω1
 131   1        TMOD=0X20;      //…Ë÷√º∆ ˝∆˜π§◊˜∑Ω Ω2
 132   1        PCON=0X00;      //≤®Ãÿ¬ º”±∂
 133   1        TH1=0XFD;       //º∆ ˝∆˜≥ı º÷µ…Ë÷√£¨◊¢“‚≤®Ãÿ¬  «9600µƒ
 134   1        TL1=0XFD;
 135   1        ES=0;           //¥Úø™Ω” ’÷–∂œ
 136   1        REN = 0;        //¥Æø⁄ πƒ‹
 137   1        TR1=1;          //¥Úø™º∆ ˝∆˜
 138   1      }
 139          
 140          /*******************************************************************************
 141          * ∫Ø ˝√˚         : keyross
 142          * ∫Ø ˝π¶ƒ‹       : ∞¥º¸¥¶¿Ì∫Ø ˝
 143          *  ‰»Î           : Œﬁ
 144          *  ‰≥ˆ           : Œﬁ
 145          *******************************************************************************/
 146          void keyross()
 147          {
 148   1         if(key1==0)
 149   1        {
 150   2          Lcd1602_Delay1ms(30);
 151   2          if(key1==0)
 152   2          {
 153   3            H++;
 154   3            if(H > Hmax)//…œœﬁ
 155   3            {
 156   4                LcdWriteCom(0x42+0x80);
 157   4                LcdWriteData('-');  
 158   4                LcdWriteCom(0x43+0x80);
 159   4                LcdWriteData('-');  
 160   4                Uart_SendCMD(0x0f , 0 , 0x0106) ;//≤•∑≈µ⁄¡˘ ◊£∫”√¿¥≤•∑≈Œ¬∂»…œœﬁ…Ë∂®÷µπ˝…œœﬁ…Ë∂®◊Ó¥Û÷µ£¨«Î÷ÿ–¬…Ë∂®
 161   4            }
 162   3            else 
 163   3            {
 164   4                LcdWriteCom(0x42+0x80);
 165   4                LcdWriteData(NUM[H/10]);  
 166   4                LcdWriteCom(0x43+0x80);
 167   4                LcdWriteData(NUM[H%10]);
 168   4            }               
 169   3          } 
 170   2          while(!key1);
 171   2        }  
 172   1         if(key2==0)
 173   1        {
 174   2          Lcd1602_Delay1ms(30);
 175   2          if(key2==0)
 176   2          {
 177   3            H--;
C51 COMPILER V9.52.0.0   MAIN                                                              05/22/2019 22:44:58 PAGE 4   

 178   3            if(H < L)
 179   3            {
 180   4              LcdWriteCom(0x42+0x80);
 181   4              LcdWriteData('-');  
 182   4              LcdWriteCom(0x43+0x80);
 183   4              LcdWriteData('-');
 184   4              Uart_SendCMD(0x0f , 0 , 0x0107) ;//≤•∑≈µ⁄∆ﬂ ◊£∫”√¿¥≤•∑≈Œ¬∂»…œœﬁ…Ë∂®÷µ–°”⁄œ¬œﬁ…Ë∂®÷µ£¨«Î÷ÿ–¬…Ë∂®
 185   4            }
 186   3            else
 187   3            {
 188   4              LcdWriteCom(0x42+0x80);
 189   4              LcdWriteData(NUM[H/10]);  
 190   4              LcdWriteCom(0x43+0x80);
 191   4              LcdWriteData(NUM[H%10]);  
 192   4            }
 193   3          } 
 194   2          while(!key2);
 195   2        }
 196   1        if(key3==0)
 197   1        {
 198   2          Lcd1602_Delay1ms(30);
 199   2          if(key3==0)
 200   2          {
 201   3            L++;
 202   3            if(L > H)
 203   3            {
 204   4              LcdWriteCom(0x47+0x80);
 205   4              LcdWriteData('-');  
 206   4              LcdWriteCom(0x48+0x80);
 207   4              LcdWriteData('-');  
 208   4              Uart_SendCMD(0x0f , 0 , 0x0108) ;//≤•∑≈µ⁄∞À ◊£∫”√¿¥≤•∑≈Œ¬∂»œ¬œﬁ…Ë∂®÷µ¥Û”⁄…œœﬁ…Ë∂®÷µ£¨«Î÷ÿ–¬…Ë∂®
 209   4            }
 210   3            else
 211   3            {
 212   4              LcdWriteCom(0x47+0x80);
 213   4              LcdWriteData(NUM[L/10]);  
 214   4              LcdWriteCom(0x48+0x80);
 215   4              LcdWriteData(NUM[L%10]);  
 216   4            }
 217   3          } 
 218   2          while(!key3);
 219   2        }
 220   1        
 221   1        if(key4==0)
 222   1        {
 223   2          Lcd1602_Delay1ms(30);
 224   2          if(key4==0)
 225   2          {
 226   3            L--;
 227   3            if(L < Lmin)
 228   3            {
 229   4              LcdWriteCom(0x47+0x80);
 230   4              LcdWriteData('-');  
 231   4              LcdWriteCom(0x48+0x80);
 232   4              LcdWriteData('-');
 233   4              Uart_SendCMD(0x0f , 0 , 0x0109) ;//≤•∑≈µ⁄æ≈ ◊£∫”√¿¥≤•∑≈Œ¬∂»œ¬œﬁ…Ë∂®÷µ–°”⁄œ¬œﬁ…Ë∂®◊Ó–°÷µ£¨«Î÷ÿ–¬…Ë∂®
 234   4            }
 235   3            else
 236   3            {
 237   4              LcdWriteCom(0x47+0x80);
 238   4              LcdWriteData(NUM[L/10]);  
 239   4              LcdWriteCom(0x48+0x80);
C51 COMPILER V9.52.0.0   MAIN                                                              05/22/2019 22:44:58 PAGE 5   

 240   4              LcdWriteData(NUM[L%10]);  
 241   4            }
 242   3          } 
 243   2          while(!key4);
 244   2        }
 245   1      }
 246          
 247          /*******************************************************************************
 248          * ∫Ø ˝√˚         : LcdDisplay()
 249          * ∫Ø ˝π¶ƒ‹       : LCDœ‘ æ∂¡»°µΩµƒŒ¬∂»
 250          *  ‰»Î           : v
 251          *  ‰≥ˆ           : Œﬁ
 252          *******************************************************************************/
 253          void LcdDisplay(int temp) //lcdœ‘ æ
 254          {
 255   1          
 256   1        uchar ds18b20_datas[] = {0, 0, 0, 0, 0}; //∂®“Âœ‘ æds18b20œ‘ æ ˝◊È
 257   1        float tp;  
 258   1        if(temp < 0)        //µ±Œ¬∂»÷µŒ™∏∫ ˝
 259   1          {
 260   2          LcdWriteCom(0x80);    //–¥µÿ÷∑ 80±Ì æ≥ı ºµÿ÷∑
 261   2          LcdWriteData('-');      //œ‘ æ∏∫
 262   2          //“ÚŒ™∂¡»°µƒŒ¬∂» « µº Œ¬∂»µƒ≤π¬Î£¨À˘“‘ºı1£¨‘Ÿ»°∑¥«Û≥ˆ‘≠¬Î
 263   2          temp=temp-1;
 264   2          temp=~temp;
 265   2          tp=temp;
 266   2          temp=tp*0.0625*100+0.5; 
 267   2          //¡Ù¡Ω∏ˆ–° ˝µ„æÕ*100£¨+0.5 «Àƒ…·ŒÂ»Î£¨“ÚŒ™C”Ô—‘∏°µ„ ˝◊™ªªŒ™’˚–Õµƒ ±∫Ú∞—–° ˝µ„
 268   2          //∫Û√Êµƒ ˝◊‘∂Ø»•µÙ£¨≤ªπ‹ «∑Ò¥Û”⁄0.5£¨∂¯+0.5÷Æ∫Û¥Û”⁄0.5µƒæÕ «Ω¯1¡À£¨–°”⁄0.5µƒæÕ
 269   2          //À„”….5£¨ªπ «‘⁄–° ˝µ„∫Û√Ê°£
 270   2          }
 271   1        else
 272   1          {     
 273   2            LcdWriteCom(0x80);    //–¥µÿ÷∑ 80±Ì æ≥ı ºµÿ÷∑
 274   2            LcdWriteData('+');    //œ‘ æ’˝
 275   2            tp=temp;//“ÚŒ™ ˝æ›¥¶¿Ì”––° ˝µ„À˘“‘Ω´Œ¬∂»∏≥∏¯“ª∏ˆ∏°µ„–Õ±‰¡ø
 276   2            //»Áπ˚Œ¬∂» «’˝µƒƒ«√¥£¨ƒ«√¥’˝ ˝µƒ‘≠¬ÎæÕ «≤π¬ÎÀ¸±æ…Ì
 277   2            temp=tp*0.0625*100+0.5; 
 278   2            //¡Ù¡Ω∏ˆ–° ˝µ„æÕ*100£¨+0.5 «Àƒ…·ŒÂ»Î£¨“ÚŒ™C”Ô—‘∏°µ„ ˝◊™ªªŒ™’˚–Õµƒ ±∫Ú∞—–° ˝µ„
 279   2            //∫Û√Êµƒ ˝◊‘∂Ø»•µÙ£¨≤ªπ‹ «∑Ò¥Û”⁄0.5£¨∂¯+0.5÷Æ∫Û¥Û”⁄0.5µƒæÕ «Ω¯1¡À£¨–°”⁄0.5µƒæÕ
 280   2            //À„º”…œ0.5£¨ªπ «‘⁄–° ˝µ„∫Û√Ê°£
 281   2        }
 282   1        ds18b20_datas[0] = temp / 10000;
 283   1        ds18b20_datas[1] = temp % 10000 / 1000;
 284   1        ds18b20_datas[2] = temp % 1000 / 100;
 285   1        ds18b20_datas[3] = temp % 100 / 10;
 286   1        ds18b20_datas[4] = temp % 10;
 287   1        
 288   1      
 289   1        //ds18b20µƒœ‘ æ ˝æ›
 290   1        LcdWriteCom(0x82);      //–¥µÿ÷∑ 80±Ì æ≥ı ºµÿ÷∑
 291   1        LcdWriteData('0'+ds18b20_datas[0]); //∞ŸŒª 
 292   1        
 293   1        LcdWriteCom(0x83);     //–¥µÿ÷∑ 80±Ì æ≥ı ºµÿ÷∑
 294   1        LcdWriteData('0'+ds18b20_datas[1]); // ÆŒª
 295   1      
 296   1        LcdWriteCom(0x84);    //–¥µÿ÷∑ 80±Ì æ≥ı ºµÿ÷∑
 297   1        LcdWriteData('0'+ds18b20_datas[2]); //∏ˆŒª 
 298   1      
 299   1        LcdWriteCom(0x85);    //–¥µÿ÷∑ 80±Ì æ≥ı ºµÿ÷∑
 300   1        LcdWriteData('.');    //œ‘ æ °Æ.°Ø
 301   1      
C51 COMPILER V9.52.0.0   MAIN                                                              05/22/2019 22:44:58 PAGE 6   

 302   1        LcdWriteCom(0x86);     //–¥µÿ÷∑ 80±Ì æ≥ı ºµÿ÷∑
 303   1        LcdWriteData('0'+ds18b20_datas[3]); //œ‘ æ–° ˝µ„  
 304   1      
 305   1        LcdWriteCom(0x87);     //–¥µÿ÷∑ 80±Ì æ≥ı ºµÿ÷∑
 306   1        LcdWriteData('0'+ds18b20_datas[4]); //œ‘ æ–° ˝µ„
 307   1      }
 308          /********************************************************************************************
 309           - π¶ƒ‹√Ë ˆ£∫ ¥Æø⁄∑¢ÀÕ“ª∏ˆ◊÷Ω⁄
 310           - ¡• Ùƒ£øÈ£∫ Õ‚≤ø
 311           - ≤Œ ˝Àµ√˜£∫
 312           - ∑µªÿÀµ√˜£∫
 313           - ◊¢£∫       
 314          ********************************************************************************************/
 315          void Uart_PutByte(uchar ch)
 316          {
 317   1          SBUF  = ch;
 318   1          while(!TI){;}
 319   1          TI = 0;
 320   1      }
 321          
 322          /*****************************************************************************************************
 323           - π¶ƒ‹√Ë ˆ£∫ ¥Æø⁄∑¢ÀÕ“ª÷° ˝æ›
 324           - ¡• Ùƒ£øÈ£∫ ƒ⁄≤ø 
 325           - ≤Œ ˝Àµ√˜£∫ 
 326           - ∑µªÿÀµ√˜£∫ 
 327           - ◊¢£∫Œﬁ     
 328          *****************************************************************************************************/
 329          void SendCmd(uchar len)
 330          {
 331   1          uchar i = 0 ;
 332   1      
 333   1          Uart_PutByte(0x7E); //∆ º
 334   1          for(i=0; i<len; i++)// ˝æ›
 335   1          {
 336   2          Uart_PutByte(Send_buf[i]) ;
 337   2          }
 338   1          Uart_PutByte(0xEF) ;//Ω· ¯
 339   1      }
 340          
 341          /********************************************************************************************
 342           - π¶ƒ‹√Ë ˆ£∫«Û∫Õ–£—È
 343           - ¡• Ùƒ£øÈ£∫
 344           - ≤Œ ˝Àµ√˜£∫
 345           - ∑µªÿÀµ√˜£∫
 346           - ◊¢£∫      ∫Õ–£—ÈµƒÀº¬∑»Áœ¬
 347                       ∑¢ÀÕµƒ÷∏¡Ó£¨»•µÙ∆ º∫ÕΩ· ¯°£Ω´÷–º‰µƒ6∏ˆ◊÷Ω⁄Ω¯––¿€º”£¨◊Ó∫Û»°∑¥¬Î
 348                       Ω” ’∂ÀæÕΩ´Ω” ’µΩµƒ“ª÷° ˝æ›£¨»•µÙ∆ º∫ÕΩ· ¯°£Ω´÷–º‰µƒ ˝æ›¿€º”£¨‘Ÿº”…œΩ” ’µΩµƒ–£—È
 349                       ◊÷Ω⁄°£∏’∫√Œ™0.’‚—˘æÕ¥˙±ÌΩ” ’µΩµƒ ˝æ›ÕÍ»´’˝»∑°£
 350          ********************************************************************************************/
 351          void DoSum( uchar *Str, uchar len)
 352          {
 353   1          uint xorsum = 0;
 354   1          uchar i;
 355   1      
 356   1          for(i=0; i<len; i++)
 357   1          {
 358   2              xorsum  = xorsum + Str[i];
 359   2          }
 360   1        xorsum     = 0 -xorsum;
 361   1        *(Str+i)   = (uchar)(xorsum >>8);
 362   1        *(Str+i+1) = (uchar)(xorsum & 0x00ff);
 363   1      }
C51 COMPILER V9.52.0.0   MAIN                                                              05/22/2019 22:44:58 PAGE 7   

 364          
 365          
 366          /********************************************************************************************
 367           - π¶ƒ‹√Ë ˆ£∫ ¥Æø⁄œÚÕ‚∑¢ÀÕ√¸¡Ó[∞¸¿®øÿ÷∆∫Õ≤È—Ø]
 368           - ¡• Ùƒ£øÈ£∫ Õ‚≤ø
 369           - ≤Œ ˝Àµ√˜£∫ CMD:±Ì æøÿ÷∆÷∏¡Ó£¨«Î≤È‘ƒ÷∏¡Ó±Ì£¨ªπ∞¸¿®≤È—Øµƒœ‡πÿ÷∏¡Ó
 370                        feedback: «∑Ò–Ë“™”¶¥[0:≤ª–Ë“™”¶¥£¨1:–Ë“™”¶¥]
 371                        data:¥´ÀÕµƒ≤Œ ˝
 372           - ∑µªÿÀµ√˜£∫
 373           - ◊¢£∫       
 374          ********************************************************************************************/
 375          void Uart_SendCMD(uchar CMD ,uchar feedback , uint dat)
 376          {
 377   1          Send_buf[0] = 0xff;    //±£¡Ù◊÷Ω⁄ 
 378   1          Send_buf[1] = 0x06;    //≥§∂»
 379   1          Send_buf[2] = CMD;     //øÿ÷∆÷∏¡Ó
 380   1          Send_buf[3] = feedback;// «∑Ò–Ë“™∑¥¿°
 381   1          Send_buf[4] = (uchar)(dat >> 8);//datah
 382   1          Send_buf[5] = (uchar)(dat);     //datal
 383   1          DoSum(&Send_buf[0],6);        //–£—È
 384   1          SendCmd(8);       //∑¢ÀÕ¥À÷° ˝æ›
 385   1      }
 386          /*******************************************************************************
 387          * ∫Ø ˝√˚         : timer0 interrupt
 388          * ∫Ø ˝π¶ƒ‹       : T0÷–∂œ∫Ø ˝
 389          *  ‰»Î           : Œﬁ
 390          *  ‰≥ˆ           : Œﬁ
 391          *******************************************************************************/
 392          void timer0(void) interrupt 1 using 1
 393          {
 394   1        TH0=0xF4;
 395   1        TL0=0xDA;
 396   1        pwm_t++;//∂® ±÷‹∆⁄+1
 397   1        if(pwm_t == 255)//“ª∏ˆ¬ˆ≥ÂµΩ¡À
 398   1        {
 399   2          pwm_t = 0;//∂® ±÷‹∆⁄÷ÿ–¬º∆ ˝
 400   2        }
 401   1         if(pwm_t <= high_pwm)//µ±÷‹∆⁄∫Õ∏ﬂµÁ∆Ω’ºø’±»œ‡µ» ±
 402   1        {
 403   2            fun_pwm = 1;// πƒ‹PWM
 404   2        }
 405   1        else
 406   1        {
 407   2            fun_pwm = 0;// ßƒ‹PWM
 408   2        }
 409   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1449    ----
   CONSTANT SIZE    =     16    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     32      19
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
