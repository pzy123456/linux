C51 COMPILER V9.52.0.0   NO_1                                                              05/20/2019 22:33:59 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE NO_1
OBJECT MODULE PLACED IN .\Objects\NO_1.obj
COMPILER INVOKED BY: D:\keil4\C51\BIN\C51.EXE NO_1.c BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\NO_1.lst) TABS(2) OBJECT
                    -(.\Objects\NO_1.obj)

line level    source

   1          //0///////////////////////////////////////////////
   2          #include"HEAD.h"
   3          
   4          #define no 0
   5          #define yes 1
   6          main()//²»ÊÇmain ¶ø´íÐ´³Émian¾¹È»Ò²ÄÜ±àÒë³É¹¦£¨Á½¸ö¾¯¸æ£©£¡£¡¸ã°ëÌì²»ÄÜÔËÐÐµÄÔ­ÒòÔÚÕâ
   7          {
   8   1        P1 = 0x00;
   9   1        KEYa = KEYb = KEYc = 1;
  10   1        kaiguan = GUANJI;
  11   1        //Uart_SendCMD(0x06,0,0x000f);//ÒôÁ¿ÎªÊ®Îå¼¶
  12   1        Uart_SendCMD(0x16,0,0x0000);//mp3 Í£Ö¹²¥·Å
  13   1      loop:
  14   1        getKEYa();
  15   1        if(kaiguan == KAIJI)
  16   1        {
  17   2          if(ganshane==XIUXI) xiuximoshi();
  18   2          if(ganshane==XUEXI) xueximoshi();
  19   2        }
  20   1      goto loop;
  21   1      }
  22          
  23          
  24          
  25          void xueximoshi()
  26          {
  27   1        if(needsetup==yes)
  28   1        {
  29   2          setup();
  30   2          needsetup=no;
  31   2        }
  32   1        if(yaozuozima==XUYAO)
  33   1        {
  34   2          Uart_SendCMD(0x17,0,0x0001);//Ñ­»·²¥·ÅÇë×øºÃ ½«³¬Éù²¨²â¾àÄ£¿é ¶Ô×¼ÄãµÄÃæ²¿ ÒÔ»ñÈ¡×ø×Ë¾àÀë °´B¼ü»ñÈ¡Õý³£×
             -ø×Ë
  35   2          while(yaozuozima==XUYAO)
  36   2          {
  37   3            if(KEYb==0)
  38   3            {
  39   4              Delay_Ms(15);
  40   4              while(KEYb==0)
  41   4              {
  42   5                GetCM();
  43   5                GET = CM;
  44   5                if(CM != 0)
  45   5                  yaozuozima = BUYAO;
  46   5              }
  47   4            }
  48   3            getKEYa();
  49   3          }
  50   2          Uart_SendCMD(0x16,0,0x00);//mp3 Í£Ö¹²¥·Å
  51   2        }
  52   1        if(KEYb==0)
  53   1        {
C51 COMPILER V9.52.0.0   NO_1                                                              05/20/2019 22:33:59 PAGE 2   

  54   2          Delay_Ms(15);
  55   2          while(KEYb==0)
  56   2          {
  57   3            GetCM();
  58   3            GET = CM;
  59   3          }
  60   2        }
  61   1        if(KEYc==0)//³¤°´C¼ü½øÈëÐÝÏ¢Ä£Ê½
  62   1        {
  63   2          i=0;
  64   2          while(KEYc==0)
  65   2          {
  66   3            Delay_Ms(20);
  67   3            i++;
  68   3            if(i>50)
  69   3            { 
  70   4              Uart_SendCMD(0x0f,0,0x0501);//²¥ÑÛ±£½¡²Ù
  71   4              boshane = YANCAO;
  72   4              Txuexishijian = 0;
  73   4              ganshane = XIUXI;
  74   4              Delay_Ms(1000);
  75   4              return;
  76   4            }
  77   3          } 
  78   2        }
  79   1        if(Txuexishijian >= Ttingzhixuexi) //Ñ§ÁË40sec//40*1min=2400sec
  80   1        {
  81   2          Uart_SendCMD(0x0f,0,0x0501);//²¥ÑÛ±£½¡²Ù
  82   2          boshane = YANCAO;
  83   2          Txuexishijian = 0;
  84   2          ganshane = XIUXI;
  85   2          return;
  86   2        }
  87   1        if(Tsecgetcm > 2)
  88   1        {
  89   2          GetCM();//GET»¹ÊÇÓÃÀÏµÄ Ö®Ç°»ñÈ¡µÄ
  90   2          if(CM == 0) return;
  91   2          if(CM < GET)//Èç¹û¸Õ»ñÈ¡µÄCM »¹Ð¡ÓÚÖ®Ç°GET ÄÇ¾ÍÊÇ×ø½üÁË
  92   2          {
  93   3            Uart_SendCMD(0x0f,0,0x0401);//²¥·Å Çë×øºÃ
  94   3            Delay_Ms(800);
  95   3            Uart_SendCMD(0x16,0,0x00);//mp3 Í£Ö¹²¥·Å
  96   3          }
  97   2          Tsecgetcm = 0;
  98   2        }
  99   1      }
 100          
 101          
 102          
 103          
 104          void xiuximoshi()
 105          {
 106   1        if(KEYb==0)//°´B¼üÍ£Ö¹²¥·Å ¿ªÊ¼Ñ§Ï°
 107   1        {
 108   2          Delay_Ms(15);
 109   2          if(KEYb==0)
 110   2          {
 111   3            Uart_SendCMD(0x16 , 0, 0x0000);//mp3Í£Ö¹¹¤×÷
 112   3            boshane = MEIBO;
 113   3            ganshane = XUEXI;//¸Ä³ÉÑ§Ï°Ä£Ê½ Ñ§Ï°¼ÆÊ±¿ªÊ¼
 114   3            needsetup=YES;
 115   3          }
C51 COMPILER V9.52.0.0   NO_1                                                              05/20/2019 22:33:59 PAGE 3   

 116   2          while(KEYb==0);
 117   2          return;
 118   2        }
 119   1        if(KEYc==0)//ÇÐ»»³É¶ù¸è¹ÊÊÂ
 120   1        {
 121   2          Delay_Ms(15);
 122   2          if(KEYc==0)
 123   2          {
 124   3            boshane++;
 125   3            if(boshane >GUSHI) boshane = ERGE;
 126   3            if(boshane==ERGE ) Uart_SendCMD(0x17,0,0x0002);//¶ù¸è Ö¸¶¨ÎÄ¼þ¼ÐÑ­»·²¥·Å
 127   3            if(boshane==GUSHI) Uart_SendCMD(0x17,0,0x0003);//ÇÐ»»³É¹ÊÊÂ
 128   3          }
 129   2          while(KEYc==0);
 130   2        }
 131   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    887    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     40       5
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
